@{
  Layout = "_Layout";
}

@using System.Security.Claims

@using Bakery.ViewModels

@model LoginViewModel


<div class="container bg-light bg-gradient p-5 border rounded-3">
  <div class="mx-5 p-5 border rounded shadow-sm bg-white">
    <h3 class="mb-3">@ViewBag.PageTitle</h3>
    @if (@ViewBag.AuthPageTitle == "Login")
    {
      <div class="row">
        <div class="col-7">
          @using (Html.BeginForm("Login", "Account"))
          {
            @Html.LabelFor(m => m.Email)
            @Html.TextBoxFor(m => m.Email, new {@class="form-control mb-3 shadow-sm"})

            @Html.LabelFor(m => m.Password)
            @Html.PasswordFor(m => m.Password, new {@class="form-control mb-3 shadow-sm"})

            <input type="submit" value="Sign in" class="btn btn-dark mb-3 shadow-sm" />
          }
          @* <p class="text-secondary">Don't have an account yet? Register <a href="account/register" class="link-secondary">here</a></p> *@
        </div>
        <div class="col-5">
          <p>Hey there! It looks like you aren't signed in yet. If you already have an account here at Pierre's Bakery, type your email and password, and hit Sign in.</p>
          <p class="text-secondary">Don't have an account yet? Register <a href="account/register" class="link-secondary">here</a></p>
        </div>
      </div>
    }
    else if (@ViewBag.AuthPageTitle == "Account Details")
    {
      <div class="row">
        <div class="col-8">
          <p>
            <strong>Name</strong>
            <br>
            Temp
          </p>
          <p>
            <strong>Email</strong>
            <br>
            @User.Identity.Name
          </p>

          <div class="row">
            <div class="col-8">
              <p>
                <strong>Phone</strong>
                <br>
                <input type="tel" placeholder="(Optional) provide phone number" class="form-control">
              </p>
            </div>
            <div class="col-4">
              <br>
              <button class="btn btn-secondary">Add</button>
            </div>
          </div>
        </div>
        <div class="col-4 text-end">
          <p>
            <strong>Treat Count</strong>
            <br>
            You've registered 4 treats
          </p>
          <p>
            <strong>Flavor Count</strong>
            <br>
            You've registered 7 flavors
          </p>
        </div>
      </div>
    }
  </div>
</div>
